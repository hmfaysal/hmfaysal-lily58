# Uncomment to enable encoder
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# Uncomment the following line to enable the Lily58 OLED Display
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=y

# ===== Core Performance Tweaks =====
# Faster key scanning
CONFIG_ZMK_KSCAN_EVENT_QUEUE_SIZE=8
CONFIG_ZMK_KSCAN_MOCK_DRIVER=n
CONFIG_ZMK_KSCAN_MATRIX_POLLING_INTERVAL=1   # 1ms polling

# Lower latency key processing
CONFIG_ZMK_HID_REPORT_EXPIRATION=2           # ms
CONFIG_BT_KEYS_OVERWRITE_OLDEST=y            # keep BLE stable

# Reduce idle battery drain
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y               # stronger signal = fewer retransmits
CONFIG_BT_LL_SW_SPLIT=y                      # better LL handling
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6          # connection interval min (~7.5ms)
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12         # connection interval max (~15ms)
CONFIG_BT_PERIPHERAL_PREF_SLAVE_LATENCY=30   # allows skipping intervals
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400        # supervision timeout

# ===== Memory/Build Slimming =====
CONFIG_LOG=n                                # disable logging
CONFIG_PRINTK=n                             # disable printk
CONFIG_ASSERT=n                             # disable asserts
CONFIG_DEBUG=n                              # disable debug features
CONFIG_STATS=n                              # disable runtime stats
CONFIG_CONSOLE=n                            # no console backend
CONFIG_UART_CONSOLE=n
CONFIG_SHELL=n                              # no interactive shell

# ===== Power Saving =====
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=30000         # 30s idle → light sleep
CONFIG_ZMK_IDLE_DEEP_SLEEP_TIMEOUT=120000   # 2min idle → deep sleep
CONFIG_PM=y
CONFIG_PM_DEVICE=y
